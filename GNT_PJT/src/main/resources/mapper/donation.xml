<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="ns.sql.DonationMapper">

	 	<resultMap type="donation" id="donationProperty">
	 	<result property="donationId" column="DONATION_ID" jdbcType="VARCHAR" />	
	  	<result property="categoryId" column="CATEGORY_ID" jdbcType="INTEGER" />	
		<result property="title" column="TITLE" jdbcType="VARCHAR" />
	 	<result property="organization" column="ORGANIZATION" jdbcType="VARCHAR" />
	 	<result property="organizationDescript" column="ORGANIZATION_DESCRIPT" jdbcType="VARCHAR" />
	 	<result property="imageUri" column="IMAGE_URI" jdbcType="VARCHAR" />	
	 	<result property="section1Title" column="SECTION1_TITLE" jdbcType="VARCHAR" />	
	 	<result property="section1" column="SECTION1" jdbcType="VARCHAR" />
	 	<result property="section2Title" column="SECTION2_TITLE" jdbcType="VARCHAR" />
	 	<result property="section2" column="SECTION2" jdbcType="VARCHAR" />
	 	<result property="section3Title" column="SECTION3_TITLE" jdbcType="VARCHAR" />	
	 	<result property="section3" column="SECTION3" jdbcType="VARCHAR" />	
	 	<result property="section4Title" column="SECTION4_TITLE" jdbcType="VARCHAR" />
	 	<result property="section4" column="SECTION4" jdbcType="VARCHAR" />
	 	<result property="section5Title" column="SECTION5_TITLE" jdbcType="VARCHAR" />
	 	<result property="section5" column="SECTION5" jdbcType="VARCHAR" />	
	 	<result property="createTime" column="CREATE_TIME" jdbcType="DATE" />	
	 	<result property="endTime" column="END_TIME" jdbcType="DATE" />
	 	<result property="donationAmount" column="DONATION_AMOUNT" jdbcType="INTEGER" />
	 	<result property="donationLimit" column="DONATION_LIMIT" jdbcType="INTEGER" />
	 </resultMap>


	<select id="DonationAsk" parameterType="string" resultType="Donation">
		<![CDATA[
		select * from (
		select * from
		donation
		order by CREATE_TIME desc
		)
		where rownum <= 20]]>
		<!-- TITLE,CREATE_TIME,END_TIME -->
	</select>
	
		<select id="DonationPage" parameterType="string" resultType="Donation">
		
		select * from (
		select * from
		donation
		order by CREATE_TIME desc
		)
		where rownum <![CDATA[>=]]> 20*(1-#{btn_num}) and rownum <![CDATA[<=]]> 20*#{btn_num}
		<!-- TITLE,CREATE_TIME,END_TIME -->
	</select>
	
</mapper>